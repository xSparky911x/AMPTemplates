[
    {
        "UpdateStageName": "Downloading game server files",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "FetchURL",
        "UpdateSourceData": "https://github.com/azerothcore/azerothcore-wotlk/archive/refs/heads/master.zip",
        "UpdateSourceArgs": "azerothcore/azerothcore-wotlk",
        "UpdateSourceTarget": "/",
        "UnzipUpdateSource": true,
        "OverwriteExistingFiles": false,
        "DeleteAfterExtract": true,
        "OneShot": true
    },
    {
        "UpdateStageName": "Build Game Server",
        "UpdateSourcePlatform": "Linux",
        "UpdateSource": "Executable",
        "UpdateSourceData": "bash -lc 'set -e; root=\"{{$FullRootDir}}\"; cd \"$root\"; latest=$(ls -d azerothcore-azerothcore-wotlk-* | head -n1); mkdir -p azerothcore-wotlk; rm -rf azerothcore-wotlk/*; mv \"$latest\"/* azerothcore-wotlk/; rmdir \"$latest\"; cd azerothcore-wotlk; docker compose up -d --build'",
        "UnzipUpdateSource": false,
        "OverwriteExistingFiles": false,
        "UpdateSourceConditionSetting": "FirstRun",
        "UpdateSourceConditionValue": "true",
        "DeleteAfterExtract": true,
        "OneShot": true
    }
]